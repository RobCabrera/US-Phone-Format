(function(e){e.fn.rcFormatUSPhoneNumber=function(t){var n=e.extend({},e.fn.rcFormatUSPhoneNumber.defaultOptions,t);this.keypress(function(t){var n=e(this);if(t.which==40||t.which==41){t.preventDefault()}});this.keyup(function(t){var r=e(this);var i=this.value;var s=this;var o,u,a,f;var l;var c=/^[0-9 \-\()]+$/;var h=t.keyCode||t.which;if(h===109||h===189||h==40||h==41){this.value=i.substring(0,i.length-1);if(n.showErrors){if(r.next("div").length==1){r.next().show();r.next().html(n.dashError)}else{r.after('<div class="rcErrorContainer" style="color:#f00; font-size: 11px;"></div>');r.next().html(n.dashError);r.css("border","1px solid #f00")}}}else{if(n.showErrors){r.next().html("");if(r.next("div").is(":visible")){r.next().hide();r.css("border-color","#ccc")}}if(c.test(i)){if(i.length===3){f="(";o=i.substring(0,4)+")-";l=f+o;this.value=l}if(i.length===9){f="(";o=i.substring(1,4)+")-";u=i.substring(6,9)+"-";l=f+o+u;this.value=l}if(i.length===14){f="(";o=i.substring(1,4)+")-";u=i.substring(6,9)+"-";a=i.substring(10,14);l=f+o+u+a;this.value=l}}else{this.value="";if(n.showErrors){if(r.next("div").length==1){r.next().show();r.next().html(n.onlyNumbersError)}else{r.after('<div class="rcErrorContainer" style="color:#f00; font-size: 11px;"></div>');r.next().html(n.onlyNumbersError);r.css("border","1px solid #f00")}}}}});this.blur(function(){var t=e(this);if(n.showErrors){if(t.val()===""){if(t.next("div").is(":visible")){t.next().hide();t.css("border-color","#ccc")}}}})};e.fn.rcFormatUSPhoneNumber.defaultOptions={dashError:"Do not enter dashes(-). They will be entered automatically.",onlyNumbersError:"No letters or special characters allowed.",showErrors:true}})(jQuery)
